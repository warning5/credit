$(document).ready(function(){var a=$("#FWebResData");if(!jQuery.isEmptyObject(a)){FWeb.init(a);a.remove()}});var FWeb={JSESSIONID:"",attr:{FWebSubmitForm:"FWebSubmit=form",FWebSubmitAjax:"FWebSubmit=ajax",FWebAjaxAsync:"FWebAjaxAsync",FWebTable:"FWebTable",FWebTableData:"FWebTableData",FWebTableDataInfo:"FWebTable=datainfo",FWebTableHead:"FWebTable=head",FWebTableRow:"FWebTable=row",FWebTableIDS:"FWebTable=ids",FWebTableNum:"FWebTable=number",FWebTableForm:"FWebTableForm",FWebTableContext:"FWebTableContext",FWebSelectData:"FWebSelectData",FWebSelectLabel:"FWebSelectLabel",FWebSelectValue:"FWebSelectValue",FWebTreeMenusData:"FWebTreeMenusData",FWebTreeData:"FWebTreeData",FWebCheckTreeData:"FWebCheckTreeData",FWebFormData:"FWebFormData",FWebMessageData:"FWebMessageData",FWebBizData:"FWebBizData",FWebHtmlData:"FWebHtmlData"},init:function(a){FWeb.JSESSIONID=a.attr("JSESSIONID")||"";FWebSelect.loadData(a);FWebTable.loadData(a);FWebTree.loadData(a);FWebCheckTree.loadData(a);FWebForm.loadData(a);FWebMessage.loadData(a);FWebTreeMenus.loadData(a);FWebHtml.loadData(a)},loadJavaScriptFile:function(){$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-select.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-form.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-table.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-tree.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-checkTree.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-treeMenus.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-message.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-biz.js'><\/script>");$("head").append("<script type='text/javascript' src='fweb/widgets/fweb-html.js'><\/script>")},loadCSSFile:function(){},rand:function(b){var a=new Date().getTime();a=(a*9301+49297)%233280;a=a/(233280);return Math.ceil(a*b)}};jQuery(function(a){});var FWebBiz={options:{jsonContent:""},loadData:function(a){var b=a.find("#"+FWeb.attr.FWebBizData);if(b.length>0){$(b).children().each(function(c){var d=$(this).text();d=jQuery.parseJSON(d);FWebBiz.options.jsonContent=d});$(b).remove()}}};jQuery(function(a){});var FWebCheckTree={loadData:function(a){var b=$("#"+FWeb.attr.FWebCheckTreeData);if(!jQuery.isEmptyObject(b)){$(b).children().each(function(d){var c=$(this).attr("name");var e=$("#"+c);$(this).children().each(function(g){var f=$(this);f.appendTo(e)})})}}};jQuery(function(a){});var FWebForm={options:{jsonContent:""},loadData:function(a){var b=a.find("#"+FWeb.attr.FWebFormData);if(b.length>0){$(b).children().each(function(d){var c=$(this).attr("name");var f=$(this).text();f=jQuery.parseJSON(f);var e=$("#"+c);FWebForm.parseData(f,e)});$(b).remove()}},parseData:function(b,a){$.each(b,function(c){var d=b[c];if(jQuery.type(d)=="object"){var e=c+"_";FWebForm.setValue(d,e,a)}else{a.find("#"+c).attr("value",d)}})},setValue:function(b,c,a){$.each(b,function(f){var d=b[f];if(jQuery.type(d)=="object"){var e=c+f+"_";FWebForm.setValue(d,e,a)}else{a.find("#"+c+f).attr("value",d)}})}};jQuery(function(a){});var FWebHtml={options:{content:""},loadData:function(a){var b=a.find("#"+FWeb.attr.FWebHtmlData);if(b.length>0){$(b).children().each(function(d){var c=$(this).attr("name");var e=$(this).html();$("#"+c).html(e)});$(b).remove()}}};jQuery(function(a){});var FWebMessage={options:{jsonMessage:""},loadData:function(b){var a=b.find("#"+FWeb.attr.FWebMessageData);if(a.length>0){$(a).children().each(function(d){var c=$(this).attr("name");var e=jQuery.parseJSON($(this).text());FWebMessage.options.jsonMessage=e;FWebMessage.show(c,e.message)});$(a).remove()}},show:function(c,b){var a=$("#"+c);a.css("color","red");a.text(b)},ajaxDone:function(b){var a=$(b);FWebMessage.loadData(a);return FWebMessage.options.jsonMessage}};jQuery(function(a){});var FWebSelect={loadData:function(a){var b=a.find("#"+FWeb.attr.FWebSelectData);if(b.length>0){$(b).children().each(function(e){var d=$(this).attr("name");var f=$(this).text();f=jQuery.parseJSON(f);var c=$("#"+d);FWebSelect.parseData(f,"",c)})}},parseData:function(b,c,a){$.each(b,function(h){var d=a.attr(FWeb.attr.FWebSelectLabel);var e=a.attr(FWeb.attr.FWebSelectValue);var f=b[h];var j=b[h];d=d.split("_");$.each(d,function(i){f=f[d[i]]});e=e.split("_");$.each(e,function(i){j=j[e[i]]});var g=$("<option>",{val:j,text:f});$(g).appendTo(a)})}};jQuery(function(a){});var FWebTable={options:{jsonContent:""},loadData:function(b){var a=b.find("#"+FWeb.attr.FWebTableData);if(a.length>0){$(a).children().each(function(e){var c=$(this).attr("name");var l=$("#"+c);var g=l.find("tr["+FWeb.attr.FWebTableHead+"]").get(0);var m=false;$(this).find("#beans").children().each(function(t){var q=$(this).text();q=jQuery.parseJSON(q);FWebTable.options.jsonContent=q;var r=$(g).clone(true);$(r).removeAttr("FWebTable");var o=$(r).attr("rel")||"pojoID";var s=$(r).attr("target");o=o.split(".");$.each(o,function(n){FWebTable.options.jsonContent=FWebTable.options.jsonContent[o[n]]});o=FWebTable.options.jsonContent;if(s){$(r).find("a").each(function(n){var u=new RegExp("_","g");s=s.replace(u,".");tabid=navTab._getTabs().eq(navTab._currentIndex).attr("tabid");$(this).attr("href",$(this).attr("href")+"?"+s+"="+o+"&tabId="+tabid)})}$(r).attr("rel",o);var p=$(r).find("td["+FWeb.attr.FWebTableIDS+"]").get(0);$(p).removeAttr("FWebTable");var i=$(p).find(":checkbox").first();$(i).attr("value",o);$(i).attr("id",o);FWebTable.parseData(q,$(r));$(g).parent().append($(r));m=true});if(m){$(g).remove();var d=$(this).find("#paging").get(0);var f=$(d).text();f=jQuery.parseJSON(f);var k=l.nextAll().find(".pages").find("div["+FWeb.attr.FWebTableDataInfo+"]");if($(k).attr("FWebTable")){k.remove();var h=$("<span>条，共"+f.allCount+"条记录，每页"+f.numPerPage+"条，当前第"+f.currentPage+"/"+f.pageCount+"页</span>");l.nextAll().find(".pages").append(h)}var j=l.nextAll().find(".pagination");j.attr("totalCount",f.allCount);j.attr("numPerPage",f.numPerPage);j.attr("currentPage",f.currentPage);l.nextAll().find("#pagerForm :hidden[name=numPerPage]").val(f.numPerPage)}else{$(g).parent().html("<tr><td><center>抱歉，没有任何记录。</center></td></tr>");var d=$(this).find("#paging").get(0);var f=$(d).text();f=jQuery.parseJSON(f);l.nextAll().find("#pagerForm :hidden[name=numPerPage]").val(f.numPerPage)}});$(a).remove()}},parseData:function(a,b){$.each(a,function(c){var d=a[c];if(jQuery.type(d)=="object"){var f=c+"_";FWebTable.setValue(d,f,b)}else{var e=b.find("#"+c);if(!$(e).attr("type")){$(e).text(d)}else{$(e).val(d)}}})},setValue:function(a,c,b){$.each(a,function(g){var d=a[g];if(jQuery.type(d)=="object"){var f=c+g+"_";FWebTable.setValue(d,f,b)}else{var e=b.find("#"+c+g);if(!$(e).attr("type")){$(e).text(d)}else{$(e).val(d)}}})}};jQuery(function(a){});var FWebTree={loadData:function(a){var b=$("#"+FWeb.attr.FWebTreeData);if(!jQuery.isEmptyObject(b)){$(b).children().each(function(d){var c=$(this).attr("name");var e=$("#"+c);$(this).children().each(function(g){var f=$(this);f.addClass("trendsTree");f.find("a").each(function(i){$(this).attr("rel",e.attr("rel")||"jbsxBox");$(this).attr("target","ajax");var j=e.attr("target")||"function.id";var h=e.attr("href")||"javascript";h=h+"?"+j+"="+$(this).attr("pojo_id");$(this).attr("href",h)});f.appendTo(e)})})}}};jQuery(function(a){});var FWebTreeMenus={loadData:function(a){var b=$("#"+FWeb.attr.FWebTreeMenusData);if(!jQuery.isEmptyObject(b)){$(b).children().each(function(e){var d=$(this).attr("name");var c=$("#"+d);$(this).children().each(function(g){var f=$(this);f.addClass("trendsTree");f.appendTo(c)})})}}};